<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh_Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<!-- <script data-ad-client="ca-pub-7298119761242775" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="BeiYu, beiyu">








  <link rel="shortcut icon" type="image/x-icon" href="/images/avatar.jpg?v=5.1.2">






<meta name="description" content="# W6D1 Weekly Test For Zookeeper B3B4 20 Apr 1.Cluster monitoring involves _______. ( ) A.Keep track of server status B.Detect the failure of the servers C.Monitoring aliveness of the servers **D.A">
<meta name="keywords" content="北屿 BeiYu">
<meta property="og:type" content="website">
<meta property="og:title" content="Zookeeper Test">
<meta property="og:url" content="beiyuouo.github.io/qb _plain/niit-zookeeper.html">
<meta property="og:site_name" content="北屿">
<meta property="og:description" content="# W6D1 Weekly Test For Zookeeper B3B4 20 Apr 1.Cluster monitoring involves _______. ( ) A.Keep track of server status B.Detect the failure of the servers C.Monitoring aliveness of the servers **D.A">
<meta property="og:locale" content="zh_Hans">
<meta property="og:updated_time" content="2020-07-07T11:36:20.762Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Zookeeper Test">
<meta name="twitter:description" content="# W6D1 Weekly Test For Zookeeper B3B4 20 Apr 1.Cluster monitoring involves _______. ( ) A.Keep track of server status B.Detect the failure of the servers C.Monitoring aliveness of the servers **D.A">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="beiyuouo.github.io/qb _plain/niit-zookeeper.html">







  <title>Zookeeper Test | 北屿</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-145083103-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d396c00ca4fe6547a19249d34cb91254";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->










</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh_Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">北屿</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">北屿小智障</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-game">
          <a href="/game/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-gamepad"></i> <br>
            
            Game
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            Sitemap
          </a>
        </li>
      
        
        <li class="menu-item menu-item-cv">
          <a href="/cv/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-file-pdf-o"></i> <br>
            
            CV
          </a>
        </li>
      
        
        <li class="menu-item menu-item-paper-note">
          <a href="/paper-note/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-file-text"></i> <br>
            
            Paper-note
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    
    
    
    <div class="post-block page">
      <header class="post-header">

	<h1 class="post-title" itemprop="name headline">Zookeeper Test</h1>



</header>

      
      
      
      <div class="post-body">
        
        
          


# W6D1 Weekly Test For Zookeeper B3B4 20 Apr
1.Cluster monitoring involves _______. ( )
A.Keep track of server status
B.Detect the failure of the servers
C.Monitoring aliveness of the servers
**D.All of above**

2.The org.apache.zookeeper.server, org.apache.zookeeper.server.quorum, and org.apache.zookeeper.server.upgrade packages are the part of ______implementation. ( )
**A.server**
B.client
C.zookeeper
D.None of above

3.Fully distributed locks that are ________ synchronous, meaning at any snapshot in time no two clients think they hold the same lock. ( )
**A.globally**
B.locally
C.programmatically
D.None of above

4.By calling __________ method in the ZooKeeper API, we can check if barrier applied or not. ( )
A.enabled()
B.status()
**C.exists()**
D.None of above 

5.Watcher interface has ______ abstract method in it. ( )
**A.process()**
B.dataChanged()
C.config()
D.None of above

6.______ parameter in constructor of zookeeper decides whether the client is allowed to go to read-only mode in case of partitioning ( )
A.sessionId
B.sessionPasswd
**C.canBeReadOnly**
D.watcher

7.The _________ package defines the characteristics associated with znodes. ( )
A.org.apache.zookeeper.server.quorum
**B.org.apache.zookeeper.data**
C.org.apache.zookeeper.server.upgrade
D.None of above

8.The Watcher interface is in the ______ package. ( )
A.org.apache.zookeeper.server.quorum
**B.org.apache.zookeeper**
C.org.apache.zookeeper.data
D.None of above

9.The _______ in the bin directory, is used to set the CLASSPATH. ( )
A.zkEnv.config
B.zookeeper.env.sh
**C.zkEnv.sh**
D.None of above

10.When system needs only one node must carry out an operation at a given time, then we usually implement it using ______ ( )
A.Queue
B.Barrier
C.Double Barrier
**D.Lock**

# Test_ZooKeeper_W10_S1 B3B4
1._____ sets timeout for opening connections for leader election notifications. ( )
**A.cnxTimeout**
B.tickTime
C.minClientCnxns
D.autopurge.purgeInterval

2.By default, the maximum session timeout that server allow is ____ X tickTime. ( )
A.2
**B.20**
C.10
D.1000

3.By default, the minimum session timeout that server allow is ____ X tickTime. ( )
A.1
B.20
C.10
**D.2**

4._____ limits the number of concurrent connections that a single client may make to a single member of the Zookeeper ensemble. ( )
**A.maxClientCnxns**
B.minClientCnxns
C.fsync.warningthresholdms
D.None of above

5.The default limit for globalOutstandingLimit is _____. ( )
A.10
B.100
**C.1000**
D.10000

6.The amount of time which allow followers to connect and synchronize to a leader is called _____. ( )
A.initLimit
**B.syncLimit**
C.waitLimit
D.connectLimit

7.By default, the weight of server is ____. ( )
**A.1**
B.2
C.3
D.4

8.If autopurge.purgeInterval set to zero, the default, garbage collection will not be run automatically but should be run manually using the ______ script in the Zookeeper distribution. ( )
A.zkCli.sh
B.tracefFile
**C.zkCleanup.sh**
D.None of above

9.If _____ set to zero, the default, garbage collection will not be run automatically but should be run manually using the zkCleanup.sh script in the Zookeeper distribution. ( )
A.autopurge
**B.autopurge.purgeInterval**
C.autopurge.snapRetainCount
D.None of above

10.cnxTimeout sets timeout for opening connections for leader election notifications. By default it is ____ seconds. ( )
A.1
B.3
**C.5**
D.7

11.The default snapCount is _____. ( )
A.1000
B.10000
**C.100000**
D.None of above

12.The Zookeeper allocates space in the transaction log file. The default block size is___.()
A.8M
B.16M
C.32M
**D.64M**

13.We can change the listen port of ZooKeeper by changing ______. ( )
A.serverPort
**B.clientPort**
C.connectPort
D.None of above

14.The Zookeeper allocates space in the transaction log file in blocks of _____ kilobytes. ( )
A.10
B.globalOutstandingLimit
**C.preAllocSize**
D.None of above

15.tickTime is measured in _______. ( )
A.microseconds
B.seconds
**C.milliseconds**
D.None of above

16.To prevent Zookeeper from running out of memory due to queued requests, Zookeeper will put conditions on clients so that there are no more than _____ outstanding requests in the system. ( )
A.globalLimit
B.OutstandingLimit
**C.globalOutstandingLimit**
D.None of above

17.The amount of time which allow followers to connect and synchronize to a leader is called _____. ( )
**A.initLimit**
B.syncLimit
C.waitLimit
D.connectLimit

18.The default data directory in ZooKeeper is ______. ( )
**A./tmp/data**
B./temp/data
C./data
D./tools/data

19.The default listen port (or clientPort) in ZoKeeper is ____. ( )
A.8080
B.3308
**C.2181**
D.None of above

20.The _____ file inside the conf directory keeps configuration for Zookeeper, i.e. on which port the Zookeeper instance will listen, data directory, etc. ( )
**A.zoo.cfg**
B.zoo_sample.cfg
C.zoo-config.cfg
D.None of above

# Test Zookeeper W11 S1 B3B4
1.Some of the statistics are cumulative and can be reset using the ______ word. ( )
A.stat
B.srvr
**C.srst**
D.cons

2.Some of the statistics are cumulative and can be reset using the ______ word. ( )
A.srvr
B.stat
**C.srst**
D.cons

3.______ provides information about the status of the server and the connections that are currently active. ( )
A.srst
B.ruok
**C.stat**
D.srvr

4._______ requires updates to be synced to media. ( )
A.jute.maxbuffer 
B.None
**C.forceSync** 
D.skipACL

5.______ can only be set as a Java system property. There is no zookeeper prefix on it. ( )
A.skipACL
B.None
C.forceSync 
**D.jute.maxbuffer**

6.Which of following provides detailed information on the watches tracked by the server? ( )
A.wchp
B.wchc
**C.All of above**
D.wchs

7.Generally, ZooKeeper uses ___ method of authentication. ( )
**A.Digest**
B.Form
C.Basic
D.None

8.Generally, ZooKeeper uses ___ method of authentication. ( )
A.Form
B.None
C.Basic
**D.Digest**

9.______ provides session information, listing the currently active sessions and when they will expire. ( )
A.conf
B.cons
**C.dump**
D.wchs

10._____ specifies the maximum size of the data that can be stored in a znode. ( )
A.jute.minbuffer
B.jute.Buffer 
**C.jute.maxbuffer** 
D.jute.maxLimit

# QuestionBank

1.In a production environment, ZooKeeper should be run on multiple servers in a replicated mode, also called a ______________. (A) 
**A.ZooKeeper ensemble**
B.ZooKeeper Server
C.ZooKeeper Client
D.ZooKeeper Follower

2.The minimum recommended number of servers is ______ and _____ is the most common in a production environment. (C)
A.3. 4
B.2. 4
**C.3, 5**
D.2, 5

3.The replicated group of servers in the same application domain is called a________. (B)
A.follower
**B.quorum** 
C.client node
D.server node

4.While setting up multimode ZooKeeper cluster, we configure 2 timeouts, initLimit and syncLimit. These timeouts are measured in the unit of time called ___________ . (C)
A.milliseconds
B.ticks
**C.tickTime**
D.None of above

5.To start Java-based ZooKeeper command-line shell, we simply need to run ______of the ZK_HOME/bin. (D)
A.zkEnv.cm.
B.zkEnv.s.
C.zkServer.cmd 
**D.zkCli.sh**

6.ZooKeeper allows distributed processes to coordinate with each other through a shared hierarchical namespace of data registers. These data registers are known as _________ in the ZooKeeper. (A)
**A.znodes**
B.server
C.client
D.follower

4.____ is used as path separator in the path of any znode in the ZooKeeper tree. (C)
A.Dollar $ 
B.Hyphen -
**C.Slash /**
D.Comma ,

5.Which of the following is NOT metadata of a znode? (B)
A.Version Number
**B.Znode Type** 
C.Data Length
D.Timestamp

4._________ is an authentication mechanism used for accessing znode and to govern all read-write operations of znode. (C)
A.2PC
B.Distributed Consensus
**C.ACL**
D.None of above

5.Data length of znode can be extended upto _________. (C)
A.1 T.
B.1 G.
**C.1 MB** 
D.1 KB

6.The ___ cannot be used in path of a znode in ZooKeeper tree. (D)
A.Underscore (_ ) 
B.White space ( )
C.Slash (/)
**D.Dot (.)**

7.Which of following is NOT type of znode? (D)
A.Persistent 
B.Ephemera.
C.Sequential
**D.Partitional**

8.We must specify ________ flag in create command while creating ephemeral znode (A)
**A.-e** 
B.-.
C.-s
D.-p

9.________ type of znode cannot have children znodes. (C)
A.Persistent 
B.Sequentia.
**C.Ephemeral**
D.All of above

10.We must specify ________ flag in create command while creating sequential znode (B)
A.-e 
**B.-.**
C.-f
D.-p

1.We can NOT set watches with _______ call to read the state of ZooKeeper. (B)
A.exists()
**B.getACL()**
C.getData()
D.getChildren()

2.____ is used to remove a watch. (B)
A.unregisterWatches() 
**B.removeWatches()**
C.deleteWatches()
D.None of above

3.The Apache ZooKeeper uses a special atomic messaging protocol called ________ (A)
**A.ZooKeeper Atomic Broadcast**
B.Two Phase Protocol 
C.Both of above
D.None of above

4._______ contains interface definition for ZooKeeper watches & various callback handlers for ZooKeeper. (C)
A.org.apache.zookeeper.upgrade 
B.org.apache.zookeeper.server
**C.org.apache.zookeeper**
D.None of above

5.Which of following packages is NOT part of server implementation? (A)
**A.org.apache.zookeeper**
B.org.apache.zookeeper.server
C.org.apache.zookeeper.server.quorum 
D.org.apache.zookeeper.server.upgrade

6.Which of the following is NOT a part of server implementation? (D)
A.org.apache.zookeeper.server 
B.org.apache.zookeeper.server.quorum
C.org.apache.zookeeper.server.upgrade
**D.org.apache.zookeeper.data**

7.To connect to specific session, we can use ____ parameter in ZooKeeper constructor. (B)
A.sessionTimeout 
**B.sessionId()**
C.sessionPassword
D.None of above

8.Which of the following methods is declared in Watcher interface as abstract method? (A)
**A.process()**
B.prepare() 
C.processed()
D.None of above

9.When system needs only one node must carry out an operation at a given time, then we usually implement it using ______ (D)
A.Queue
B.Barrier
C.Double Barrier
**D.Lock**

10.The _______ in the bin directory, is used to set the CLASSPATH. (C)
A. zkEnv.config
B. zookeeper.env.sh
**C. zkEnv.sh**
D. None of above

11.The Watcher interface is in the ______ package. (B)
A. org.apache.zookeeper.server.quorum
**B. org.apache.zookeeper**
C. org.apache.zookeeper.data
D. None of above

12.The _________ package defines the characteristics associated with znodes. (B)
A. org.apache.zookeeper.server.quorum
**B. org.apache.zookeeper.data**
C. org.apache.zookeeper.server.upgrade
D. None of above

13.Watcher interface has ______ abstract method in it. (A)
**A. process()**
B. dataChanged()
C. config()
D. None of above

14.______ parameter in constructor of zookeeper decides whether the client is allowed to go to read-only mode in case of partitioning (C)
A. sessionId
B. sessionPasswd
**C. canBeReadOnly**
D. watcher

15.By calling __________ method in the ZooKeeper API, we can check if barrier applied or not. (C)
A. enabled()
B. status()
**C. exists()**
D. None of above 

16.Fully distributed locks that are ________ synchronous, meaning at any snapshot in time no two clients think they hold the same lock. (A)
**A. globally**
B. locally
C. programmatically
D. None of above

17.The org.apache.zookeeper.server, org.apache.zookeeper.server.quorum, and org.apache.zookeeper.server.upgrade packages are the part of ______implementation. (A)
**A. server**
B. client
C. zookeeper
D. None of above

18.Cluster monitoring involves _______. (D)
A.Keep track of server status
B.Detect the failure of the servers
C.Monitoring aliveness of the servers
**D.All of above**

19._______ and _______ are required properties of leader election algorithm. (A)
**A.Liveness and safety**
B.leader and follower
C.server and client
D.None of above

20.If all members in a group perform some task & make system performance low, is called as ______. (B)
A.Group Membership
**B.Herd effect**
C.Distributed Consensus
D.None of above

21.Liveness property of leader election algorithm ensures that ________. (A)
**A.most of the time there is a leader**
B.at any given time, there is either no leader or one leader
C.most of the time system is operational
D.None of above

22.Safety property of leader election algorithm ensures that ________. (B)
A.most of the time there is a leader
**B.at any given time, there is either no leader or one leader**
C.most of the time system is operational
D.None of above

23.Message Complexity of Two-Phase commit is _____. (C)
A.log(n)
B.O(log n)
**C.O(n²)**
D.None of above

24.In Service-oriented architectures, services find each other, this is known as _____. (C)
A.Two-Phase Commit
B.Group Membership
**C.Service Discovery**
D.Leader Election

25.By calling __________ method in the ZooKeeper API, we can check if barrier applied or not. (C)
A.enabled()
B.status()
**C.exists()**
D.None of above

26.Fully distributed locks that are ________ synchronous, meaning at any snapshot in time no two clients think they hold the same lock. (A)
**A.globally**
B.locally
C.programmatically
D.None of above

27.The _________ helps clients to determine IP & port for a service that exists on multiple hosts. (B)
A.Service registration
**B.Service Discovery**
C.Both of above
D.None of above

28.Which of following are types of znodes? (D)
A.Sequential
B.Persistent
C.Ephemeral
**D.All of above**

29.The _____ file inside the conf directory keeps configuration for Zookeeper, i.e. on which port the Zookeeper instance will listen, data directory, etc. (A)
**A.zoo.cfg**
B.zoo_sample.cfg
C.zoo-config.cfg
D.None of above

30.The default listen port (or clientPort) in ZoKeeper is ____. (C)
A.8080
B.3308
**C.2181**
D.None of above

31.The default data directory in ZooKeeper is ______. (A)
**A./tmp/data**
B./temp/data
C./data
D./tools/data

32.tickTime is measured in _______. (C)
A.microseconds
B.seconds
**C.milliseconds**
D.None of above

33.The amount of time which allow followers to connect and synchronize to a leader is called _____. (A)
**A.initLimit**
B.syncLimit
C.waitLimit
D.connectLimit

34.To prevent Zookeeper from running out of memory due to queued requests, Zookeeper will put conditions on clients so that there are no more than _____ outstanding requests in the system. (C)
A.globalLimit
B.OutstandingLimit
**C.globalOutstandingLimit**
D.None of above

35.The Zookeeper allocates space in the transaction log file in blocks of _____ kilobytes. (C)
A.10
B.globalOutstandingLimit
**C.preAllocSize**
D.None of above

36.We can change the listen port of ZooKeeper by changing ______. (B)
A.serverPort
**B.clientPort**
C.connectPort
D.None of above

37.The Zookeeper allocates space in the transaction log file. The default block size is___. (D)
A.8M
B.16M
C.32M
**D.64M**

38.The default snapCount is _____. (C)
A.1000
B.10000
**C.100000**
D.None of above

39.If _____ set to zero, the default, garbage collection will not be run automatically but should be run manually using the zkCleanup.sh script in the Zookeeper distribution. (B)
A.autopurge
**B.autopurge.purgeInterval**
C.autopurge.snapRetainCount
D.None of above

40.cnxTimeout sets timeout for opening connections for leader election notifications. By default it is ____ seconds. (C)
A.1
B.3
**C.5**
D.7

41.If autopurge.purgeInterval set to zero, the default, garbage collection will not be run automatically but should be run manually using the ______ script in the Zookeeper distribution. (C)
A.zkCli.sh
B.tracefFile
**C.zkCleanup.sh**
D.None of above

42.By default, the weight of server is ____. (A)
**A.1**
B.2
C.3
D.4

43.The amount of time which allow followers to connect and synchronize to a leader is called _____. (B)
A.initLimit
**B.syncLimit**
C.waitLimit
D.connectLimit

44._____ limits the number of concurrent connections that a single client may make to a single member of the Zookeeper ensemble. (A)
**A.maxClientCnxns**
B.minClientCnxns
C.fsync.warningthresholdms
D.None of above

45.By default, the minimum session timeout that server allow is ____ X tickTime. (D)
A.1
B.20
C.10
**D.2**

46.The default limit for globalOutstandingLimit is _____. (C)
A.10
B.100
**C.1000**
D.10000

47.By default, the maximum session timeout that server allow is ____ X tickTime. (B)
A.2
**B.20**
C.10
D.1000

48._____ sets timeout for opening connections for leader election notifications. (A)
**A.cnxTimeout**
B.tickTime
C.minClientCnxns
D.autopurge.purgeInterval

49.By default zookeeper.DigestAuthenticationProvider.superDigest feature is _____. (B)
A.enabled
**B.disabled**
C.can be any
D.don’t know

50.Generally, ZooKeeper uses ___ method of authentication. (C)
A.Basic
B.Form
**C.Digest**
D.None

51._______ requires updates to be synced to media. (A)
**A.forceSync** 
B.jute.maxbuffer 
C.skipACL
D.None

52._____ specifies the maximum size of the data that can be stored in a znode. (B)
A.jute.minbuffer
**B.jute.maxbuffer** 
C.jute.Buffer 
D.jute.maxLimit

53.______ can only be set as a Java system property. There is no zookeeper prefix on it. (B)
A.forceSync 
**B.jute.maxbuffer** 
C.skipACL
D.None

54.______ provides information about the status of the server and the connections that are currently active. (C)
A.ruok
B.srst
**C.stat**
D.srvr

55.Some of the statistics are cumulative and can be reset using the ______ word. (D)
A.cons
B.srvr
C.stat
**D.srst**

56.______ provides session information, listing the currently active sessions and when they will expire. (C)
A.cons
B.conf
**C.dump**
D.wchs

57.Which of following provides detailed information on the watches tracked by the server? (D)
A.wchs
B.wchc
C.wchp
**D.All of above**

58.Which one is NOT a four letters word command to maintain a zookeeper instance? (C)
A.stat
B.ruok
**C.sync**
D.dump

59.Responsibilities of curator client are (D)
A.Connection management
B.Configuration Management
C.Test Zookeeper server
**D.All of above**

60.The Curator Client is a low-level API & Curator Framework is a high-level API. (A)
**A.True**
B.False

61.Curator Client is present in org.apache.curator.framework (B)
A.True 
**B.False** 

62.Features of Curator Framework (D)
A.Automatic Connection Management
B.Simple and Flexible APIs 
C.Recipes
**D.All of above**

63.Curator Framework instances are thread-safe. (A)
**A.True**
B.False

64.We use _____ for temporary connections over unreliable networks such as a WAN. (B)
A.Curator Framework
**B.Curator Temp Framework**
C.Curator Client
D.None of above

65.Apache Curator uses _____ algorithm for leader election. (D)
A.Leader latch
B.Leader election
C.Both of above
**D.None of above**

66._______ is used to free all the managed locks. (C)
A.aquire()
B.sync()
**C.release()**
D.free()

67._______ type of cache is used to store children of ZooKeeper. (B)
A.node
**B.tree**
C.path
D.None of above

68._______ type of cache is used to store states of znode. (A)
**A.path**
B.node
C.tree
D.dump

---

# Important text

| Topic Name                                                   | Page No | Text                                                         | Remarks                                                      |
| ------------------------------------------------------------ | :-----: | ------------------------------------------------------------ | ------------------------------------------------------------ |
| Understanding a distributed system                           |   1.3   | A distributed system is defined as a software system that is composed of independent computing entities linked together by a computer network whose components communicate and coordinate with each other to achieve a common goal. | Remember                                                     |
| Understanding a distributed system                           |   1.3   | Key characteristics of distributed system: Resource sharing Extendibility Concurrency Performance and scalability Fault tolerance | Remember                                                     |
| Challenges while implementing coordination in distributed system |   1.4   | Read once                                                    | NA                                                           |
| Introduction to Apache ZooKeeper                             |   1.6   | Apache Zookeeper is a top-level software developed by Apache that acts as a centralized service and is used to maintain naming and configuration data and to provide flexible and robust synchronization within distributed systems. ZooKeeper, as a centralized coordination service, is distributed and highly reliable, running on a cluster of servers called a ZooKeeper ensemble | Remember                                                     |
| Introduction to Apache ZooKeeper                             |   1.6   | Architectural services of ZooKeeper                          | Distributed Consensus Group Management Presence Protocol Leader Election |
| Introduction to Apache ZooKeeper                             |   1.6   | Common distributed coordination tasks of zookeeper           | 1. Configuration management 2. Naming service 3. Distributed synchronization, such as locks and barriers 4. Cluster membership operations, such as detection of node leave/node join |
| Introduction to Apache ZooKeeper                             |   1.6   | ZooKeeper runs as a server ensemble known as a ZooKeeper ensemble. In a production cluster, three ZooKeeper servers is the minimum recommended size for an ensemble | Remember                                                     |
| Installing and Configuring Apache ZooKeeper - Configuration  |   1.8   | Configuration parameters                                     | tickTime, dataDir, clientPort                                |
| Starting the ZooKeeper Server                                |   1.9   | Commands & their use and syntax                              | Remember                                                     |
| Connecting the ZooKeeper                                     |  1.10   | Commands & their use and syntax                              | Remember                                                     |
| Setting up multimode ZooKeeper cluster                       |  1.12   | In a production environment, ZooKeeper should be run on multiple servers in a replicated mode, also called a ZooKeeper ensemble. The minimum recommended number of servers is three, and five is the most common in a production environment. The replicated group of servers in the same application domain is called a quorum. In this mode, the ZooKeeper server instance runs on multiple different machines, and all servers in the quorum have copies of the same configuration file. | Remember                                                     |
| Setting up multimode ZooKeeper cluster                       |  1.12   | initLimit & syncLimit                                        | Remember                                                     |
| Starting the server instances                                |  1.13   | Commands & their use and syntax                              | Remember                                                     |
| The ZooKeeper data model                                     |   2.3   | The data registers are known as znodes in the ZooKeeper.     | Remember                                                     |
| The ZooKeeper data model                                     |   2.4   | Every znode in the ZooKeeper data model maintains a stat structure. A stat simply provides the metadata of a znode. It consists of Version number, Action control list (ACL), Timestamp and Data length. | Remember                                                     |
| Types of ZNODES                                              |   2.5   | ZooKeeper has primarily two types of znodes: persistent and ephemeral. There is a third type called a sequential znode, which is a kind of a qualifier for the other two types. Both persistent and ephemeral znodes can be sequential znodes as well. A znode's type is set at the time of its creation. | Remember                                                     |
| Types of ZNODES - The Persistent Znode                       |   2.5   | The persistent znodes have a lifetime in the ZooKeeper's namespace until these are explicitly deleted. A znode can be deleted by calling the delete API call. | Remember                                                     |
| Types of ZNODES - The ephemeral znode                        |   2.5   | An ephemeral znode is deleted by the ZooKeeper service when the creating client's session ends | Remember                                                     |
| Types of ZNODES - The ephemeral znode                        |   2.5   | An ephemeral znode is deleted by the ZooKeeper service when the creating client's session ends | "-e flag"                                                    |
| Types of ZNODES - The sequential znode                       |   2.6   | A sequential znode is assigned a sequence number by ZooKeeper as a part of its name during its creation. | Remember                                                     |
| Types of ZNODES - The sequential znode                       |   2.6   | Since both persistent and ephemeral znodes can be sequential znodes, there are a total of four modes of znodes: persistent  ephemeral  persistent_sequential  ephemeral_sequential | Remember                                                     |
| ZooKeeper Watches                                            |   2.6   | ZooKeeper has the mechanism where clients can get notifications from the ZooKeeper service instead of looking for events (pull model) in the registry. This is similar to a push model, where notifications are pushed to the registered clients of the ZooKeeper service. Watches are a simple mechanism for the client to get notifications about the changes in the ZooKeeper ensemble. Clients can set watches while reading a particular znode. Watches send a notification to the registered client for any of the znode (on which client registers) changes. Znode changes are modification of data associated with the znode or changes in the znode’s children. Watches are triggered only once. If a client wants a notification again, it must be done through another read operation. When a connection session is expired, the client will be disconnected from the server and the associated watches are also removed. Watches are maintained in the ZooKeeper server to which a client is connected, and this makes it a fast and lean method of event notification. | Remember                                                     |
| ZooKeeper operations                                         |   2.8   | Operation with their description                             | Remember                                                     |
| ZooKeeper operations                                         |   2.9   | Read requests are processed locally in the ZooKeeper server & Write requests are forwarded to the leader. | Remember                                                     |
| ZooKeeper operations                                         |   2.9   | All of the read operations in ZooKeeper - getData(), getChildren(), and exists() - have the option of setting a watch for notification to the client. This gives three points to consider: 1. One-time trigger 2. Notification to the client 3. The data for which the watch was set | Remember                                                     |
| Using the Java client library                                |   3.3   | The package org.apache.zookeeper contains the interface definition for ZooKeeper watches and various callback handlers for ZooKeeper. It defines the main class of the ZooKeeper client library along with many static definitions of the ZooKeeper event types and states. | Remember                                                     |
| Using the Java client library                                |   3.3   | The org.apache.zookeeper.data package defines the characteristics associated with the data registers, also known as znodes. | Remember                                                     |
| Using the Java client library                                |   3.3   | The org.apache.zookeeper.server, org.apache.zookeeper.server.quorum, and org.apache.zookeeper.server.upgrade packages are the part of server implementation. | Remember                                                     |
| Preparing your development environment                       |   3.3   | To start developing applications for ZooKeeper in Java, we have to set the CLASSPATH which points to ZooKeeper jar and all libraries on which ZooKeeper depends. The zkEnv.sh, in the bin directory, is used to set the CLASSPATH | Remember                                                     |
| ZooKeeper - Hello World Program                              |   3.4   | All constructors & their parameters                          | Remember meaning of every parameter                          |
| Barrier                                                      |   4.3   | The distributed systems use barriers to block processing of a set of nodes until a condition is met at which time all the nodes are allowed to proceed. | Remember                                                     |
| Double Barrier                                               |   4.3   | Double barriers help to synchronize beginning & end of computation. | Remember                                                     |
| Queue                                                        |   4.4   | Read once carefully                                          | NA                                                           |
| Queue                                                        |   4.4   | Read once carefully                                          | Specially last paragraph                                     |
| Lock                                                         |   4.5   | Fully distributed locks that are globally synchronous, meaning at any snapshot in time no two clients think they hold the same lock. | Remember                                                     |
| Two-Phase Commit                                             |  4.10   | A two-phase commit protocol is an algorithm that lets all clients in a distributed system agrees either to commit a transaction or abort. | Remember                                                     |
| Service Discovery                                            |  4.11   | The Service Discovery is one of the key components of distributed systems and service-oriented architectures where services need to find each other. In the simplest way, service discovery helps clients determine the IP and port for a service that exists on multiple hosts. | Remember                                                     |
| Service Discovery                                            |  4.11   | Important properties of a service discovery system are mentioned here: A. It allows services to register their availability B. It provides a mechanism to locate a live instance of a particular service C. It propagates a service change notification when the instances of a service change | Remember                                                     |
| Service Discovery                                            |  4.11   | Apache Curator provides an extension called curator-x-discovery in its ZooKeeper library; this implements a service registration and discovery model. It also provides a service discovery server called curator-x-discovery-server that exposes a RESTful web service to register, remove, and query services for non-Java or legacy applications to use the service discovery functionalities. | Remember                                                     |
| Configuration Parameters                                     |   5.4   | Basic Configuration - clientPort, clientPort, tickTime, initLimit, server.x, syncLimit, dataLogDir | Remember - specially default values                          |
| Configuration Parameters                                     |   5.5   | Storage Configuration - globalOutstandingLimit, preAllocSize, snapCount, traceFile, autopurge.snapRetainCount , autopurge.purgeInterval , fsync.warningthresholdms, weight.x=nnnnn | Remember - specially default values                          |
| Configuration Parameters                                     |   5.6   | Network Configuration - globalOutstandingLimit, maxClientCnxns, clientPortAddres, minSessionTimeout, maxSessionTimeout | Remember - specially default values                          |
| Configuration Parameters                                     |   5.6   | Cluster Configuration - initLimit, leaderServers, synchLimit, server.x, cnxTimeout | Remember - specially default values                          |
| Authentication and Authorization                             |  5.11   | Unsafe Options                                               | Remember                                                     |
| Monitoring a Zookeeper instance                              |  5.13   | Four-letter words                                            | Read VERY CAREFULLY!                                         |
| Introduction to Apache Curator                               |   6.2   | Curator Components                                           | Client Framework Recipes Extensions                          |
| Introduction to Apache Curator                               |   6.3   | Curator Components                                           | Remember how we add dependencies                             |
| Implementing Apache Curator                                  |   6.3   | Curator Client Capabilities                                  | Connection management, Configuration Management, Test Zookeeper server, Operations retry utilities |
| Implementing Apache Curator                                  |   6.3   | Connection Management Code                                   | Remember method syntax                                       |
| Implementing Apache Curator                                  |   6.4   | Configuration Management Code                                | Remember method syntax                                       |
| Implementing Apache Curator                                  |   6.4   | Test Zookeeper Server Code                                   | Remember method syntax                                       |
| Implementing Apache Curator                                  |   6.4   | Operations retry utilities                                   | Remember all retry policies                                  |
| Curator Recipes                                              |   6.6   | Leader Election Code                                         | Read once                                                    |
| Curator Recipes                                              |   6.7   | Shared Locks                                                 | Read different types of distributed locks                    |
| Curator Recipes                                              |   6.8   | Counter Code                                                 | Read once                                                    |
| Curator Recipes - Cache                                      |   6.8   | Caching is implemented through the path cache, node cache, and tree cache recipes to keep the data of change in states of znodes, locally cached nodes and all the locally cached children of a ZK path respectively. | Remember                                                     |
        
      </div>
      
      
      
    </div>
    
    
    
  </div>


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="北屿">
          <p class="site-author-name" itemprop="name">北屿</p>
           
              <p class="site-description motion-element" itemprop="description">Sometimes it's the very people who no one imagines angthing of who do the things that no one can imagine.</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">118</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">100</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/beiyuouo" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://weibo.com/u/5687969852" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                    
                      Weibo
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://wpa.qq.com/msgrd?v=3&uin=729320011&site=qq&menu=yes" target="_blank" title="QQ">
                  
                    <i class="fa fa-fw fa-qq"></i>
                  
                    
                      QQ
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/bei-yu-84-25/activities" target="_blank" title="ZhiHu">
                  
                    <i class="fa fa-fw fa-unlink"></i>
                  
                    
                      ZhiHu
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-block">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-link"></i>
              Links qwq
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://baidu.com/" title="欢迎友链qwq" target="_blank">欢迎友链qwq</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://borber.cn/" title="BORBER's blog" target="_blank">BORBER's blog</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://47.101.152.169/" title="mon-soon's blog" target="_blank">mon-soon's blog</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://blog.0xbbc.com/" title="0xbbc's blog" target="_blank">0xbbc's blog</a>
                </li>
              
            </ul>
          </div>
        

        

      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2018 - 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">北屿</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  










  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

#
#<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
#<!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
